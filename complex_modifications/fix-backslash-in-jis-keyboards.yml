title: "Fix backslash and yen-mark problem in JetBrains IDEs and JIS keyboards"
rules:

  - description: "swap backslash and option+backslash"
    manipulators:
      - type: basic
        from:
          key_code: international3
        to:
          - key_code: international3
            modifiers:
              - left_option
        conditions:
          # exclude Terminal.app because this hack not works in Terminal.app
          - type: frontmost_application_unless
            bundle_identifiers:
              - ^com\.apple\.Terminal$
      - type: basic
        from:
          key_code: international3
          modifiers:
            mandatory:
              - left_option
        to:
          - key_code: international3
        conditions:
          - type: frontmost_application_unless
            bundle_identifiers:
              - ^com\.apple\.Terminal$
